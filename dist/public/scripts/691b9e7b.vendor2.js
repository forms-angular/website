!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):window.jQuery)}(function(e){"use strict";var t=0,i=["accepts","cache","contents","contentType","crossDomain","data","dataType","headers","ifModified","mimeType","password","processData","timeout","traditional","type","url","username"],n=function(e){return e};e.ajaxSetup({converters:{"postmessage text":n,"postmessage json":n,"postmessage html":n}}),e.ajaxTransport("postmessage",function(n){if(n.postMessage&&window.postMessage){var r,o=e("<a>").prop("href",n.postMessage)[0],a=o.protocol+"//"+o.host,s=n.xhr().upload;return{send:function(o,l){var u={id:"postmessage-transport-"+(t+=1)},d="message."+u.id;r=e('<iframe style="display:none;" src="'+n.postMessage+'" name="'+u.id+'"></iframe>').bind("load",function(){e.each(i,function(e,t){u[t]=n[t]}),u.dataType=u.dataType.replace("postmessage ",""),e(window).bind(d,function(t){var i,n=(t=t.originalEvent).data;t.origin===a&&n.id===u.id&&("progress"===n.type?((i=document.createEvent("Event")).initEvent(n.type,!1,!0),e.extend(i,n),s.dispatchEvent(i)):(l(n.status,n.statusText,{postmessage:n.result},n.headers),r.remove(),e(window).unbind(d)))}),r[0].contentWindow.postMessage(u,a)}).appendTo(document.body)},abort:function(){r&&r.remove()}}}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):window.jQuery)}(function(e){"use strict";window.XDomainRequest&&!e.support.cors&&e.ajaxTransport(function(t){if(t.crossDomain&&t.async){t.timeout&&(t.xdrTimeout=t.timeout,delete t.timeout);var i;return{send:function(n,r){function o(t,n,o,a){i.onload=i.onerror=i.ontimeout=e.noop,i=null,r(t,n,o,a)}var a=/\?/.test(t.url)?"&":"?";i=new XDomainRequest,"DELETE"===t.type?(t.url=t.url+a+"_method=DELETE",t.type="POST"):"PUT"===t.type?(t.url=t.url+a+"_method=PUT",t.type="POST"):"PATCH"===t.type&&(t.url=t.url+a+"_method=PATCH",t.type="POST"),i.open(t.type,t.url),i.onload=function(){o(200,"OK",{text:i.responseText},"Content-Type: "+i.contentType)},i.onerror=function(){o(404,"Not Found")},t.xdrTimeout&&(i.ontimeout=function(){o(0,"timeout")},i.timeout=t.xdrTimeout),i.send(t.hasContent&&t.data||null)},abort:function(){i&&(i.onerror=e.noop(),i.abort())}}}})}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){var t=0,i=Array.prototype.slice;e.cleanData=function(t){return function(i){var n,r,o;for(o=0;null!=(r=i[o]);o++)try{(n=e._data(r,"events"))&&n.remove&&e(r).triggerHandler("remove")}catch(e){}t(i)}}(e.cleanData),e.widget=function(t,i,n){var r,o,a,s,l={},u=t.split(".")[0];return t=t.split(".")[1],r=u+"-"+t,n||(n=i,i=e.Widget),e.expr[":"][r.toLowerCase()]=function(t){return!!e.data(t,r)},e[u]=e[u]||{},o=e[u][t],a=e[u][t]=function(e,t){if(!this._createWidget)return new a(e,t);arguments.length&&this._createWidget(e,t)},e.extend(a,o,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),s=new i,s.options=e.widget.extend({},s.options),e.each(n,function(t,n){e.isFunction(n)?l[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},r=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,o=this._superApply;return this._super=e,this._superApply=r,t=n.apply(this,arguments),this._super=i,this._superApply=o,t}}():l[t]=n}),a.prototype=e.widget.extend(s,{widgetEventPrefix:o?s.widgetEventPrefix||t:t},l,{constructor:a,namespace:u,widgetName:t,widgetFullName:r}),o?(e.each(o._childConstructors,function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,a,i._proto)}),delete o._childConstructors):i._childConstructors.push(a),e.widget.bridge(t,a),a},e.widget.extend=function(t){for(var n,r,o=i.call(arguments,1),a=0,s=o.length;a<s;a++)for(n in o[a])r=o[a][n],o[a].hasOwnProperty(n)&&void 0!==r&&(e.isPlainObject(r)?t[n]=e.isPlainObject(t[n])?e.widget.extend({},t[n],r):e.widget.extend({},r):t[n]=r);return t},e.widget.bridge=function(t,n){var r=n.prototype.widgetFullName||t;e.fn[t]=function(o){var a="string"==typeof o,s=i.call(arguments,1),l=this;return o=!a&&s.length?e.widget.extend.apply(null,[o].concat(s)):o,a?this.each(function(){var i,n=e.data(this,r);return"instance"===o?(l=n,!1):n?e.isFunction(n[o])&&"_"!==o.charAt(0)?(i=n[o].apply(n,s))!==n&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0:e.error("no such method '"+o+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+o+"'")}):this.each(function(){var t=e.data(this,r);t?(t.option(o||{}),t._init&&t._init()):e.data(this,r,new n(o,this))}),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(i,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),i),this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var n,r,o,a=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(a={},n=t.split("."),t=n.shift(),n.length){for(r=a[t]=e.widget.extend({},this.options[t]),o=0;o<n.length-1;o++)r[n[o]]=r[n[o]]||{},r=r[n[o]];if(t=n.pop(),1===arguments.length)return void 0===r[t]?null:r[t];r[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];a[t]=i}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,n){var r,o=this;"boolean"!=typeof t&&(n=i,i=t,t=!1),n?(i=r=e(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,r=this.widget()),e.each(n,function(n,a){function s(){if(t||!0!==o.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof a?o[a]:a).apply(o,arguments)}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||e.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+o.eventNamespace,d=l[2];d?r.delegate(d,u,s):i.bind(u,s)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){var i=this;return setTimeout(function(){return("string"==typeof e?i[e]:e).apply(i,arguments)},t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,n){var r,o,a=this.options[t];if(n=n||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(r in o)r in i||(i[r]=o[r]);return this.element.trigger(i,n),!(e.isFunction(a)&&!1===a.apply(this.element[0],[i].concat(n))||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(n,r,o){"string"==typeof r&&(r={effect:r});var a,s=r?!0===r||"number"==typeof r?i:r.effect||i:t;"number"==typeof(r=r||{})&&(r={duration:r}),a=!e.isEmptyObject(r),r.complete=o,r.delay&&n.delay(r.delay),a&&e.effects&&e.effects.effect[s]?n[t](r):s!==t&&n[s]?n[s](r.duration,r.easing,o):n.queue(function(i){e(this)[t](),o&&o.call(n[0]),i()})}});e.widget}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],e):"object"==typeof exports?e(require("jquery"),require("./vendor/jquery.ui.widget")):e(window.jQuery)}(function(e){"use strict";function t(t){var i="dragover"===t;return function(n){n.dataTransfer=n.originalEvent&&n.originalEvent.dataTransfer;var r=n.dataTransfer;r&&-1!==e.inArray("Files",r.types)&&!1!==this._trigger(t,e.Event(t,{delegatedEvent:n}))&&(n.preventDefault(),i&&(r.dropEffect="copy"))}}e.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||e('<input type="file">').prop("disabled")),e.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),e.support.xhrFormDataFileUpload=!!window.FormData,e.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),e.widget("blueimp.fileupload",{options:{dropZone:e(document),pasteZone:void 0,fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(t,i){return t=this.messages[t]||t.toString(),i&&e.each(i,function(e,i){t=t.replace("{"+e+"}",i)}),t},formData:function(e){return e.serializeArray()},add:function(t,i){if(t.isDefaultPrevented())return!1;(i.autoUpload||!1!==i.autoUpload&&e(this).fileupload("option","autoUpload"))&&i.process().done(function(){i.submit()})},processData:!1,contentType:!1,cache:!1,timeout:0},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:e.support.blobSlice&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,i){var n=e-this.timestamp;return(!this.bitrate||!i||n>i)&&(this.bitrate=(t-this.loaded)*(1e3/n)*8,this.loaded=t,this.timestamp=e),this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&(!t.multipart&&e.support.xhrFileUpload||e.support.xhrFormDataFileUpload)},_getFormData:function(t){var i;return"function"===e.type(t.formData)?t.formData(t.form):e.isArray(t.formData)?t.formData:"object"===e.type(t.formData)?(i=[],e.each(t.formData,function(e,t){i.push({name:e,value:t})}),i):[]},_getTotal:function(t){var i=0;return e.each(t,function(e,t){i+=t.size||1}),i},_initProgressObject:function(t){var i={loaded:0,total:0,bitrate:0};t._progress?e.extend(t._progress,i):t._progress=i},_initResponseObject:function(e){var t;if(e._response)for(t in e._response)e._response.hasOwnProperty(t)&&delete e._response[t];else e._response={}},_onProgress:function(t,i){if(t.lengthComputable){var n,r=Date.now?Date.now():(new Date).getTime();if(i._time&&i.progressInterval&&r-i._time<i.progressInterval&&t.loaded!==t.total)return;i._time=r,n=Math.floor(t.loaded/t.total*(i.chunkSize||i._progress.total))+(i.uploadedBytes||0),this._progress.loaded+=n-i._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(r,this._progress.loaded,i.bitrateInterval),i._progress.loaded=i.loaded=n,i._progress.bitrate=i.bitrate=i._bitrateTimer.getBitrate(r,n,i.bitrateInterval),this._trigger("progress",e.Event("progress",{delegatedEvent:t}),i),this._trigger("progressall",e.Event("progressall",{delegatedEvent:t}),this._progress)}},_initProgressListener:function(t){var i=this,n=t.xhr?t.xhr():e.ajaxSettings.xhr();n.upload&&(e(n.upload).bind("progress",function(e){var n=e.originalEvent;e.lengthComputable=n.lengthComputable,e.loaded=n.loaded,e.total=n.total,i._onProgress(e,t)}),t.xhr=function(){return n})},_isInstanceOf:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},_initXHRData:function(t){var i,n=this,r=t.files[0],o=t.multipart||!e.support.xhrFileUpload,a="array"===e.type(t.paramName)?t.paramName[0]:t.paramName;t.headers=e.extend({},t.headers),t.contentRange&&(t.headers["Content-Range"]=t.contentRange),o&&!t.blob&&this._isInstanceOf("File",r)||(t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(r.name)+'"'),o?e.support.xhrFormDataFileUpload&&(t.postMessage?(i=this._getFormData(t),t.blob?i.push({name:a,value:t.blob}):e.each(t.files,function(n,r){i.push({name:"array"===e.type(t.paramName)&&t.paramName[n]||a,value:r})})):(n._isInstanceOf("FormData",t.formData)?i=t.formData:(i=new FormData,e.each(this._getFormData(t),function(e,t){i.append(t.name,t.value)})),t.blob?i.append(a,t.blob,r.name):e.each(t.files,function(r,o){(n._isInstanceOf("File",o)||n._isInstanceOf("Blob",o))&&i.append("array"===e.type(t.paramName)&&t.paramName[r]||a,o,o.uploadName||o.name)})),t.data=i):(t.contentType=r.type||"application/octet-stream",t.data=t.blob||r),t.blob=null},_initIframeSettings:function(t){var i=e("<a></a>").prop("href",t.url).prop("host");t.dataType="iframe "+(t.dataType||""),t.formData=this._getFormData(t),t.redirect&&i&&i!==location.host&&t.formData.push({name:t.redirectParamName||"redirect",value:t.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e)},_getParamName:function(t){var i=e(t.fileInput),n=t.paramName;return n?e.isArray(n)||(n=[n]):(n=[],i.each(function(){for(var t=e(this),i=t.prop("name")||"files[]",r=(t.prop("files")||[1]).length;r;)n.push(i),r-=1}),n.length||(n=[i.prop("name")||"files[]"])),n},_initFormSettings:function(t){t.form&&t.form.length||(t.form=e(t.fileInput.prop("form")),t.form.length||(t.form=e(this.options.fileInput.prop("form")))),t.paramName=this._getParamName(t),t.url||(t.url=t.form.prop("action")||location.href),t.type=(t.type||"string"===e.type(t.form.prop("method"))&&t.form.prop("method")||"").toUpperCase(),"POST"!==t.type&&"PUT"!==t.type&&"PATCH"!==t.type&&(t.type="POST"),t.formAcceptCharset||(t.formAcceptCharset=t.form.attr("accept-charset"))},_getAJAXSettings:function(t){var i=e.extend({},this.options,t);return this._initFormSettings(i),this._initDataSettings(i),i},_getDeferredState:function(e){return e.state?e.state():e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(t,i,n){var r=e.Deferred(),o=r.promise();return i=i||this.options.context||o,!0===t?r.resolveWith(i,n):!1===t&&r.rejectWith(i,n),o.abort=r.promise,this._enhancePromise(o)},_addConvenienceMethods:function(t,i){var n=this,r=function(t){return e.Deferred().resolveWith(n,t).promise()};i.process=function(t,o){return(t||o)&&(i._processQueue=this._processQueue=(this._processQueue||r([this])).pipe(function(){return i.errorThrown?e.Deferred().rejectWith(n,[i]).promise():r(arguments)}).pipe(t,o)),this._processQueue||r([this])},i.submit=function(){return"pending"!==this.state()&&(i.jqXHR=this.jqXHR=!1!==n._trigger("submit",e.Event("submit",{delegatedEvent:t}),this)&&n._onSend(t,this)),this.jqXHR||n._getXHRPromise()},i.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",n._trigger("fail",null,this),n._getXHRPromise(!1))},i.state=function(){return this.jqXHR?n._getDeferredState(this.jqXHR):this._processQueue?n._getDeferredState(this._processQueue):void 0},i.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===n._getDeferredState(this._processQueue)},i.progress=function(){return this._progress},i.response=function(){return this._response}},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),i=t&&t.split("-"),n=i&&i.length>1&&parseInt(i[1],10);return n&&n+1},_chunkedUpload:function(t,i){t.uploadedBytes=t.uploadedBytes||0;var n,r,o=this,a=t.files[0],s=a.size,l=t.uploadedBytes,u=t.maxChunkSize||s,d=this._blobSlice,p=e.Deferred(),c=p.promise();return!(!(this._isXHRUpload(t)&&d&&(l||u<s))||t.data)&&(!!i||(l>=s?(a.error=t.i18n("uploadedBytes"),this._getXHRPromise(!1,t.context,[null,"error",a.error])):(r=function(){var i=e.extend({},t),c=i._progress.loaded;i.blob=d.call(a,l,l+u,a.type),i.chunkSize=i.blob.size,i.contentRange="bytes "+l+"-"+(l+i.chunkSize-1)+"/"+s,o._initXHRData(i),o._initProgressListener(i),n=(!1!==o._trigger("chunksend",null,i)&&e.ajax(i)||o._getXHRPromise(!1,i.context)).done(function(n,a,u){l=o._getUploadedBytes(u)||l+i.chunkSize,c+i.chunkSize-i._progress.loaded&&o._onProgress(e.Event("progress",{lengthComputable:!0,loaded:l-i.uploadedBytes,total:l-i.uploadedBytes}),i),t.uploadedBytes=i.uploadedBytes=l,i.result=n,i.textStatus=a,i.jqXHR=u,o._trigger("chunkdone",null,i),o._trigger("chunkalways",null,i),l<s?r():p.resolveWith(i.context,[n,a,u])}).fail(function(e,t,n){i.jqXHR=e,i.textStatus=t,i.errorThrown=n,o._trigger("chunkfail",null,i),o._trigger("chunkalways",null,i),p.rejectWith(i.context,[e,t,n])})},this._enhancePromise(c),c.abort=function(){return n.abort()},r(),c)))},_beforeSend:function(e,t){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(t),this._initProgressObject(t),t._progress.loaded=t.loaded=t.uploadedBytes||0,t._progress.total=t.total=this._getTotal(t.files)||1,t._progress.bitrate=t.bitrate=0,this._active+=1,this._progress.loaded+=t.loaded,this._progress.total+=t.total},_onDone:function(t,i,n,r){var o=r._progress.total,a=r._response;r._progress.loaded<o&&this._onProgress(e.Event("progress",{lengthComputable:!0,loaded:o,total:o}),r),a.result=r.result=t,a.textStatus=r.textStatus=i,a.jqXHR=r.jqXHR=n,this._trigger("done",null,r)},_onFail:function(e,t,i,n){var r=n._response;n.recalculateProgress&&(this._progress.loaded-=n._progress.loaded,this._progress.total-=n._progress.total),r.jqXHR=n.jqXHR=e,r.textStatus=n.textStatus=t,r.errorThrown=n.errorThrown=i,this._trigger("fail",null,n)},_onAlways:function(e,t,i,n){this._trigger("always",null,n)},_onSend:function(t,i){i.submit||this._addConvenienceMethods(t,i);var n,r,o,a,s=this,l=s._getAJAXSettings(i),u=function(){return s._sending+=1,l._bitrateTimer=new s._BitrateTimer,n=n||((r||!1===s._trigger("send",e.Event("send",{delegatedEvent:t}),l))&&s._getXHRPromise(!1,l.context,r)||s._chunkedUpload(l)||e.ajax(l)).done(function(e,t,i){s._onDone(e,t,i,l)}).fail(function(e,t,i){s._onFail(e,t,i,l)}).always(function(e,t,i){if(s._onAlways(e,t,i,l),s._sending-=1,s._active-=1,l.limitConcurrentUploads&&l.limitConcurrentUploads>s._sending)for(var n=s._slots.shift();n;){if("pending"===s._getDeferredState(n)){n.resolve();break}n=s._slots.shift()}0===s._active&&s._trigger("stop")})};return this._beforeSend(t,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(o=e.Deferred(),this._slots.push(o),a=o.pipe(u)):(this._sequence=this._sequence.pipe(u,u),a=this._sequence),a.abort=function(){return r=[void 0,"abort","abort"],n?n.abort():(o&&o.rejectWith(l.context,r),u())},this._enhancePromise(a)):u()},_onAdd:function(t,i){var n,r,o,a,s=this,l=!0,u=e.extend({},this.options,i),d=i.files,p=d.length,c=u.limitMultiFileUploads,f=u.limitMultiFileUploadSize,h=u.limitMultiFileUploadSizeOverhead,m=0,g=this._getParamName(u),v=0;if(!p)return!1;if(f&&void 0===d[0].size&&(f=void 0),(u.singleFileUploads||c||f)&&this._isXHRUpload(u))if(u.singleFileUploads||f||!c)if(!u.singleFileUploads&&f)for(o=[],n=[],a=0;a<p;a+=1)m+=d[a].size+h,(a+1===p||m+d[a+1].size+h>f||c&&a+1-v>=c)&&(o.push(d.slice(v,a+1)),(r=g.slice(v,a+1)).length||(r=g),n.push(r),v=a+1,m=0);else n=g;else for(o=[],n=[],a=0;a<p;a+=c)o.push(d.slice(a,a+c)),(r=g.slice(a,a+c)).length||(r=g),n.push(r);else o=[d],n=[g];return i.originalFiles=d,e.each(o||d,function(r,a){var u=e.extend({},i);return u.files=o?a:[a],u.paramName=n[r],s._initResponseObject(u),s._initProgressObject(u),s._addConvenienceMethods(t,u),l=s._trigger("add",e.Event("add",{delegatedEvent:t}),u)}),l},_replaceFileInput:function(t){var i=t.fileInput,n=i.clone(!0);t.fileInputClone=n,e("<form></form>").append(n)[0].reset(),i.after(n).detach(),e.cleanData(i.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(e,t){return t===i[0]?n[0]:t}),i[0]===this.element[0]&&(this.element=n)},_handleFileTreeEntry:function(t,i){var n,r=this,o=e.Deferred(),a=function(e){e&&!e.entry&&(e.entry=t),o.resolve([e])},s=function(){n.readEntries(function(e){e.length?(l=l.concat(e),s()):function(e){r._handleFileTreeEntries(e,i+t.name+"/").done(function(e){o.resolve(e)}).fail(a)}(l)},a)},l=[];return i=i||"",t.isFile?t._file?(t._file.relativePath=i,o.resolve(t._file)):t.file(function(e){e.relativePath=i,o.resolve(e)},a):t.isDirectory?(n=t.createReader(),s()):o.resolve([]),o.promise()},_handleFileTreeEntries:function(t,i){var n=this;return e.when.apply(e,e.map(t,function(e){return n._handleFileTreeEntry(e,i)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(t){var i=(t=t||{}).items;return i&&i.length&&(i[0].webkitGetAsEntry||i[0].getAsEntry)?this._handleFileTreeEntries(e.map(i,function(e){var t;return e.webkitGetAsEntry?((t=e.webkitGetAsEntry())&&(t._file=e.getAsFile()),t):e.getAsEntry()})):e.Deferred().resolve(e.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){var i,n,r=(t=e(t)).prop("webkitEntries")||t.prop("entries");if(r&&r.length)return this._handleFileTreeEntries(r);if((i=e.makeArray(t.prop("files"))).length)void 0===i[0].name&&i[0].fileName&&e.each(i,function(e,t){t.name=t.fileName,t.size=t.fileSize});else{if(!(n=t.prop("value")))return e.Deferred().resolve([]).promise();i=[{name:n.replace(/^.*\\/,"")}]}return e.Deferred().resolve(i).promise()},_getFileInputFiles:function(t){return t instanceof e&&1!==t.length?e.when.apply(e,e.map(t,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(t)},_onChange:function(t){var i=this,n={fileInput:e(t.target),form:e(t.target.form)};this._getFileInputFiles(n.fileInput).always(function(r){n.files=r,i.options.replaceFileInput&&i._replaceFileInput(n),!1!==i._trigger("change",e.Event("change",{delegatedEvent:t}),n)&&i._onAdd(t,n)})},_onPaste:function(t){var i=t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.items,n={files:[]};i&&i.length&&(e.each(i,function(e,t){var i=t.getAsFile&&t.getAsFile();i&&n.files.push(i)}),!1!==this._trigger("paste",e.Event("paste",{delegatedEvent:t}),n)&&this._onAdd(t,n))},_onDrop:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var i=this,n=t.dataTransfer,r={};n&&n.files&&n.files.length&&(t.preventDefault(),this._getDroppedFiles(n).always(function(n){r.files=n,!1!==i._trigger("drop",e.Event("drop",{delegatedEvent:t}),r)&&i._onAdd(t,r)}))},_onDragOver:t("dragover"),_onDragEnter:t("dragenter"),_onDragLeave:t("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),e.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(t,i){var n=-1!==e.inArray(t,this._specialOptions);n&&this._destroyEventHandlers(),this._super(t,i),n&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var t=this.options;void 0===t.fileInput?t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):t.fileInput instanceof e||(t.fileInput=e(t.fileInput)),t.dropZone instanceof e||(t.dropZone=e(t.dropZone)),t.pasteZone instanceof e||(t.pasteZone=e(t.pasteZone))},_getRegExp:function(e){var t=e.split("/"),i=t.pop();return t.shift(),new RegExp(t.join("/"),i)},_isRegExpOption:function(t,i){return"url"!==t&&"string"===e.type(i)&&/^\/.*\/[igm]{0,3}$/.test(i)},_initDataAttributes:function(){var t=this,i=this.options,n=this.element.data();e.each(this.element[0].attributes,function(e,r){var o,a=r.name.toLowerCase();/^data-/.test(a)&&(a=a.slice(5).replace(/-[a-z]/g,function(e){return e.charAt(1).toUpperCase()}),o=n[a],t._isRegExpOption(a,o)&&(o=t._getRegExp(o)),i[a]=o)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(t){var i=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always(function(e){t.files=e,i._onAdd(null,t)}):(t.files=e.makeArray(t.files),this._onAdd(null,t)))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var i,n,r=this,o=e.Deferred(),a=o.promise();return a.abort=function(){return n=!0,i?i.abort():(o.reject(null,"abort","abort"),a)},this._getFileInputFiles(t.fileInput).always(function(e){n||(e.length?(t.files=e,(i=r._onSend(null,t)).then(function(e,t,i){o.resolve(e,t,i)},function(e,t,i){o.reject(e,t,i)})):o.reject())}),this._enhancePromise(a)}if(t.files=e.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./jquery.fileupload"],e):e("object"==typeof exports?require("jquery"):window.jQuery)}(function(e){"use strict";var t=e.blueimp.fileupload.prototype.options.add;e.widget("blueimp.fileupload",e.blueimp.fileupload,{options:{processQueue:[],add:function(i,n){var r=e(this);n.process(function(){return r.fileupload("process",n)}),t.call(this,i,n)}},processActions:{},_processFile:function(t,i){var n=this,r=e.Deferred().resolveWith(n,[t]).promise();return this._trigger("process",null,t),e.each(t.processQueue,function(t,o){var a=function(t){return i.errorThrown?e.Deferred().rejectWith(n,[i]).promise():n.processActions[o.action].call(n,t,o)};r=r.pipe(a,o.always&&a)}),r.done(function(){n._trigger("processdone",null,t),n._trigger("processalways",null,t)}).fail(function(){n._trigger("processfail",null,t),n._trigger("processalways",null,t)}),r},_transformProcessQueue:function(t){var i=[];e.each(t.processQueue,function(){var n={},r=this.action,o=!0===this.prefix?r:this.prefix;e.each(this,function(i,r){"string"===e.type(r)&&"@"===r.charAt(0)?n[i]=t[r.slice(1)||(o?o+i.charAt(0).toUpperCase()+i.slice(1):i)]:n[i]=r}),i.push(n)}),t.processQueue=i},processing:function(){return this._processing},process:function(t){var i=this,n=e.extend({},this.options,t);return n.processQueue&&n.processQueue.length&&(this._transformProcessQueue(n),0===this._processing&&this._trigger("processstart"),e.each(t.files,function(r){var o=r?e.extend({},n):n,a=function(){return t.errorThrown?e.Deferred().rejectWith(i,[t]).promise():i._processFile(o,t)};o.index=r,i._processing+=1,i._processingQueue=i._processingQueue.pipe(a,a).always(function(){i._processing-=1,0===i._processing&&i._trigger("processstop")})})),this._processingQueue},_create:function(){this._super(),this._processing=0,this._processingQueue=e.Deferred().resolveWith(this).promise()}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./jquery.fileupload-process"],e):e("object"==typeof exports?require("jquery"):window.jQuery)}(function(e){"use strict";e.blueimp.fileupload.prototype.options.processQueue.push({action:"validate",always:!0,acceptFileTypes:"@",maxFileSize:"@",minFileSize:"@",maxNumberOfFiles:"@",disabled:"@disableValidation"}),e.widget("blueimp.fileupload",e.blueimp.fileupload,{options:{getNumberOfFiles:e.noop,messages:{maxNumberOfFiles:"Maximum number of files exceeded",acceptFileTypes:"File type not allowed",maxFileSize:"File is too large",minFileSize:"File is too small"}},processActions:{validate:function(t,i){if(i.disabled)return t;var n,r=e.Deferred(),o=this.options,a=t.files[t.index];return(i.minFileSize||i.maxFileSize)&&(n=a.size),"number"===e.type(i.maxNumberOfFiles)&&(o.getNumberOfFiles()||0)+t.files.length>i.maxNumberOfFiles?a.error=o.i18n("maxNumberOfFiles"):!i.acceptFileTypes||i.acceptFileTypes.test(a.type)||i.acceptFileTypes.test(a.name)?n>i.maxFileSize?a.error=o.i18n("maxFileSize"):"number"===e.type(n)&&n<i.minFileSize?a.error=o.i18n("minFileSize"):delete a.error:a.error=o.i18n("acceptFileTypes"),a.error||t.files.error?(t.files.error=!0,r.rejectWith(this,[t])):r.resolveWith(this,[t]),r.promise()}}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","load-image","load-image-meta","load-image-exif","load-image-ios","canvas-to-blob","./jquery.fileupload-process"],e):"object"==typeof exports?e(require("jquery"),require("load-image")):e(window.jQuery,window.loadImage)}(function(e,t){"use strict";e.blueimp.fileupload.prototype.options.processQueue.unshift({action:"loadImageMetaData",disableImageHead:"@",disableExif:"@",disableExifThumbnail:"@",disableExifSub:"@",disableExifGps:"@",disabled:"@disableImageMetaDataLoad"},{action:"loadImage",prefix:!0,fileTypes:"@",maxFileSize:"@",noRevoke:"@",disabled:"@disableImageLoad"},{action:"resizeImage",prefix:"image",maxWidth:"@",maxHeight:"@",minWidth:"@",minHeight:"@",crop:"@",orientation:"@",forceResize:"@",disabled:"@disableImageResize"},{action:"saveImage",quality:"@imageQuality",type:"@imageType",disabled:"@disableImageResize"},{action:"saveImageMetaData",disabled:"@disableImageMetaDataSave"},{action:"resizeImage",prefix:"preview",maxWidth:"@",maxHeight:"@",minWidth:"@",minHeight:"@",crop:"@",orientation:"@",thumbnail:"@",canvas:"@",disabled:"@disableImagePreview"},{action:"setImage",name:"@imagePreviewName",disabled:"@disableImagePreview"},{action:"deleteImageReferences",disabled:"@disableImageReferencesDeletion"}),e.widget("blueimp.fileupload",e.blueimp.fileupload,{options:{loadImageFileTypes:/^image\/(gif|jpeg|png|svg\+xml)$/,loadImageMaxFileSize:1e7,imageMaxWidth:1920,imageMaxHeight:1080,imageOrientation:!1,imageCrop:!1,disableImageResize:!0,previewMaxWidth:80,previewMaxHeight:80,previewOrientation:!0,previewThumbnail:!0,previewCrop:!1,previewCanvas:!0},processActions:{loadImage:function(i,n){if(n.disabled)return i;var r=this,o=i.files[i.index],a=e.Deferred();return"number"===e.type(n.maxFileSize)&&o.size>n.maxFileSize||n.fileTypes&&!n.fileTypes.test(o.type)||!t(o,function(e){e.src&&(i.img=e),a.resolveWith(r,[i])},n)?i:a.promise()},resizeImage:function(i,n){if(n.disabled||!i.canvas&&!i.img)return i;n=e.extend({canvas:!0},n);var r,o=this,a=e.Deferred(),s=n.canvas&&i.canvas||i.img,l=function(e){e&&(e.width!==s.width||e.height!==s.height||n.forceResize)&&(i[e.getContext?"canvas":"img"]=e),i.preview=e,a.resolveWith(o,[i])};if(i.exif){if(!0===n.orientation&&(n.orientation=i.exif.get("Orientation")),n.thumbnail&&(r=i.exif.get("Thumbnail")))return t(r,l,n),a.promise();i.orientation?delete n.orientation:i.orientation=n.orientation}return s?(l(t.scale(s,n)),a.promise()):i},saveImage:function(t,i){if(!t.canvas||i.disabled)return t;var n=this,r=t.files[t.index],o=e.Deferred();return t.canvas.toBlob?(t.canvas.toBlob(function(e){e.name||(r.type===e.type?e.name=r.name:r.name&&(e.name=r.name.replace(/\.\w+$/,"."+e.type.substr(6)))),r.type!==e.type&&delete t.imageHead,t.files[t.index]=e,o.resolveWith(n,[t])},i.type||r.type,i.quality),o.promise()):t},loadImageMetaData:function(i,n){if(n.disabled)return i;var r=this,o=e.Deferred();return t.parseMetaData(i.files[i.index],function(t){e.extend(i,t),o.resolveWith(r,[i])},n),o.promise()},saveImageMetaData:function(e,t){if(!(e.imageHead&&e.canvas&&e.canvas.toBlob)||t.disabled)return e;var i=e.files[e.index],n=new Blob([e.imageHead,this._blobSlice.call(i,20)],{type:i.type});return n.name=i.name,e.files[e.index]=n,e},setImage:function(e,t){return e.preview&&!t.disabled&&(e.files[e.index][t.name||"preview"]=e.preview),e},deleteImageReferences:function(e,t){return t.disabled||(delete e.img,delete e.canvas,delete e.preview,delete e.imageHead),e}}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","load-image","./jquery.fileupload-process"],e):"object"==typeof exports?e(require("jquery"),require("load-image")):e(window.jQuery,window.loadImage)}(function(e,t){"use strict";e.blueimp.fileupload.prototype.options.processQueue.unshift({action:"loadAudio",prefix:!0,fileTypes:"@",maxFileSize:"@",disabled:"@disableAudioPreview"},{action:"setAudio",name:"@audioPreviewName",disabled:"@disableAudioPreview"}),e.widget("blueimp.fileupload",e.blueimp.fileupload,{options:{loadAudioFileTypes:/^audio\/.*$/},_audioElement:document.createElement("audio"),processActions:{loadAudio:function(i,n){if(n.disabled)return i;var r,o,a=i.files[i.index];return this._audioElement.canPlayType&&this._audioElement.canPlayType(a.type)&&("number"!==e.type(n.maxFileSize)||a.size<=n.maxFileSize)&&(!n.fileTypes||n.fileTypes.test(a.type))&&(r=t.createObjectURL(a))?(o=this._audioElement.cloneNode(!1),o.src=r,o.controls=!0,i.audio=o,i):i},setAudio:function(e,t){return e.audio&&!t.disabled&&(e.files[e.index][t.name||"preview"]=e.audio),e}}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","load-image","./jquery.fileupload-process"],e):"object"==typeof exports?e(require("jquery"),require("load-image")):e(window.jQuery,window.loadImage)}(function(e,t){"use strict";e.blueimp.fileupload.prototype.options.processQueue.unshift({action:"loadVideo",prefix:!0,fileTypes:"@",maxFileSize:"@",disabled:"@disableVideoPreview"},{action:"setVideo",name:"@videoPreviewName",disabled:"@disableVideoPreview"}),e.widget("blueimp.fileupload",e.blueimp.fileupload,{options:{loadVideoFileTypes:/^video\/.*$/},_videoElement:document.createElement("video"),processActions:{loadVideo:function(i,n){if(n.disabled)return i;var r,o,a=i.files[i.index];return this._videoElement.canPlayType&&this._videoElement.canPlayType(a.type)&&("number"!==e.type(n.maxFileSize)||a.size<=n.maxFileSize)&&(!n.fileTypes||n.fileTypes.test(a.type))&&(r=t.createObjectURL(a))?(o=this._videoElement.cloneNode(!1),o.src=r,o.controls=!0,i.video=o,i):i},setVideo:function(e,t){return e.video&&!t.disabled&&(e.files[e.index][t.name||"preview"]=e.video),e}}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","angular","./jquery.fileupload-image","./jquery.fileupload-audio","./jquery.fileupload-video","./jquery.fileupload-validate"],e):e()}(function(){"use strict";angular.module("blueimp.fileupload",[]).provider("fileUpload",function(){var e,t=function(e){angular.element(this).fileupload("option","scope").$evalAsync(e)},i=function(e,t){var i=t.files,n=i[0];angular.forEach(i,function(e,i){e._index=i,e.$state=function(){return t.state()},e.$processing=function(){return t.processing()},e.$progress=function(){return t.progress()},e.$response=function(){return t.response()}}),n.$submit=function(){if(!n.error)return t.submit()},n.$cancel=function(){return t.abort()}};e=this.defaults={handleResponse:function(e,t){var i=t.result&&t.result.files;i?t.scope.replace(t.files,i):(t.errorThrown||"error"===t.textStatus)&&(t.files[0].error=t.errorThrown||t.textStatus)},add:function(e,t){if(e.isDefaultPrevented())return!1;var n=t.scope,r=[];angular.forEach(t.files,function(e){r.push(e)}),n.$apply(function(){i(0,t);var e=n.option("prependFiles")?"unshift":"push";Array.prototype[e].apply(n.queue,t.files)}),t.process(function(){return n.process(t)}).always(function(){n.$apply(function(){i(0,t),n.replace(r,t.files)})}).then(function(){(n.option("autoUpload")||t.autoUpload)&&!1!==t.autoUpload&&t.submit()})},progress:function(e,t){if(e.isDefaultPrevented())return!1;t.scope.$apply()},done:function(e,t){if(e.isDefaultPrevented())return!1;var i=this;t.scope.$apply(function(){t.handleResponse.call(i,e,t)})},fail:function(e,t){if(e.isDefaultPrevented())return!1;var i=this,n=t.scope;"abort"!==t.errorThrown?n.$apply(function(){t.handleResponse.call(i,e,t)}):n.clear(t.files)},stop:t,processstart:t,processstop:t,getNumberOfFiles:function(){var e=this.scope;return e.queue.length-e.processing()},dataType:"json",autoUpload:!1},this.$get=[function(){return{defaults:e}}]}).provider("formatFileSizeFilter",function(){var e={units:[{size:1e9,suffix:" GB"},{size:1e6,suffix:" MB"},{size:1e3,suffix:" KB"}]};this.defaults=e,this.$get=function(){return function(t){if(!angular.isNumber(t))return"";for(var i,n,r=!0,o=0;r;){if(r=e.units[o],i=r.prefix||"",n=r.suffix||"",o===e.units.length-1||t>=r.size)return i+(t/r.size).toFixed(2)+n;o+=1}}}}).controller("FileUploadController",["$scope","$element","$attrs","$window","fileUpload",function(e,t,i,n,r){var o={progress:function(){return t.fileupload("progress")},active:function(){return t.fileupload("active")},option:function(e,i){if(1===arguments.length)return t.fileupload("option",e);t.fileupload("option",e,i)},add:function(e){return t.fileupload("add",e)},send:function(e){return t.fileupload("send",e)},process:function(e){return t.fileupload("process",e)},processing:function(e){return t.fileupload("processing",e)}};e.disabled=!n.jQuery.support.fileInput,e.queue=e.queue||[],e.clear=function(e){var t=this.queue,i=t.length,n=e,r=1;for(angular.isArray(e)&&(n=e[0],r=e.length);i;)if(i-=1,t[i]===n)return t.splice(i,r)},e.replace=function(e,t){var i,n,r=this.queue,o=e[0];for(i=0;i<r.length;i+=1)if(r[i]===o){for(n=0;n<t.length;n+=1)r[i+n]=t[n];return}},e.applyOnQueue=function(e){var t,i,n=this.queue.slice(0);for(t=0;t<n.length;t+=1)(i=n[t])[e]&&i[e]()},e.submit=function(){this.applyOnQueue("$submit")},e.cancel=function(){this.applyOnQueue("$cancel")},angular.extend(e,o),t.fileupload(angular.extend({scope:e},r.defaults)).on("fileuploadadd",function(t,i){i.scope=e}).on("fileuploadfail",function(e,t){if("abort"!==t.errorThrown&&t.dataType&&t.dataType.indexOf("json")===t.dataType.length-4)try{t.result=angular.fromJson(t.jqXHR.responseText)}catch(e){}}).on(["fileuploadadd","fileuploadsubmit","fileuploadsend","fileuploaddone","fileuploadfail","fileuploadalways","fileuploadprogress","fileuploadprogressall","fileuploadstart","fileuploadstop","fileuploadchange","fileuploadpaste","fileuploaddrop","fileuploaddragover","fileuploadchunksend","fileuploadchunkdone","fileuploadchunkfail","fileuploadchunkalways","fileuploadprocessstart","fileuploadprocess","fileuploadprocessdone","fileuploadprocessfail","fileuploadprocessalways","fileuploadprocessstop"].join(" "),function(t,i){e.$emit(t.type,i).defaultPrevented&&t.preventDefault()}).on("remove",function(){var t;for(t in o)o.hasOwnProperty(t)&&delete e[t]}),e.$watch(i.fileUpload,function(e){e&&t.fileupload("option",e)})}]).controller("FileUploadProgressController",["$scope","$attrs","$parse",function(e,t,i){var n=i(t.fileUploadProgress),r=function(){var t=n(e);t&&t.total&&(e.num=Math.floor(t.loaded/t.total*100))};r(),e.$watch(t.fileUploadProgress+".loaded",function(e,t){e!==t&&r()})}]).controller("FileUploadPreviewController",["$scope","$element","$attrs",function(e,t,i){e.$watch(i.fileUploadPreview+".preview",function(e){t.empty(),e&&t.append(e)})}]).directive("fileUpload",function(){return{controller:"FileUploadController",scope:!0}}).directive("fileUploadProgress",function(){return{controller:"FileUploadProgressController",scope:!0}}).directive("fileUploadPreview",function(){return{controller:"FileUploadPreviewController"}}).directive("download",function(){return function(e,t){t.on("dragstart",function(e){try{e.originalEvent.dataTransfer.setData("DownloadURL",["application/octet-stream",t.prop("download"),t.prop("href")].join(":"))}catch(e){}})}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):window.jQuery)}(function(e){"use strict";var t=0;e.ajaxTransport("iframe",function(i){if(i.async){var n,r,o,a=i.initialIframeSrc||"javascript:false;";return{send:function(s,l){(n=e('<form style="display:none;"></form>')).attr("accept-charset",i.formAcceptCharset),o=/\?/.test(i.url)?"&":"?","DELETE"===i.type?(i.url=i.url+o+"_method=DELETE",i.type="POST"):"PUT"===i.type?(i.url=i.url+o+"_method=PUT",i.type="POST"):"PATCH"===i.type&&(i.url=i.url+o+"_method=PATCH",i.type="POST"),r=e('<iframe src="'+a+'" name="iframe-transport-'+(t+=1)+'"></iframe>').bind("load",function(){var t,o=e.isArray(i.paramName)?i.paramName:[i.paramName];r.unbind("load").bind("load",function(){var t;try{if(!(t=r.contents()).length||!t[0].firstChild)throw new Error}catch(e){t=void 0}l(200,"success",{iframe:t}),e('<iframe src="'+a+'"></iframe>').appendTo(n),window.setTimeout(function(){n.remove()},0)}),n.prop("target",r.prop("name")).prop("action",i.url).prop("method",i.type),i.formData&&e.each(i.formData,function(t,i){e('<input type="hidden"/>').prop("name",i.name).val(i.value).appendTo(n)}),i.fileInput&&i.fileInput.length&&"POST"===i.type&&(t=i.fileInput.clone(),i.fileInput.after(function(e){return t[e]}),i.paramName&&i.fileInput.each(function(t){e(this).prop("name",o[t]||i.paramName)}),n.append(i.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),i.fileInput.removeAttr("form")),n.submit(),t&&t.length&&i.fileInput.each(function(i,n){var r=e(t[i]);e(n).prop("name",r.prop("name")).attr("form",r.attr("form")),r.replaceWith(n)})}),n.append(r).appendTo(document.body)},abort:function(){r&&r.unbind("load").prop("src",a),n&&n.remove()}}}}),e.ajaxSetup({converters:{"iframe text":function(t){return t&&e(t[0].body).text()},"iframe json":function(t){return t&&e.parseJSON(e(t[0].body).text())},"iframe html":function(t){return t&&e(t[0].body).html()},"iframe xml":function(t){var i=t&&t[0];return i&&e.isXMLDoc(i)?i:e.parseXML(i.XMLDocument&&i.XMLDocument.xml||e(i.body).html())},"iframe script":function(t){return t&&e.globalEval(e(t[0].body).text())}}})}),function(){"use strict";var e=function(e){return/\/file\/(.+?)\/([0-9a-f]{24})/.exec(e)[2]};angular.module("uploadModule",["blueimp.fileupload"]).controller("FngUploadAdditFieldsCtrl",["$scope","$timeout",function(e,t){function i(){e.schema&&e.schema.forEach(function(t){var i=e.uploadForm.dataField()[e.file];e.record[t.name]=i?i[t.name]:void 0})}e.record={},e.$watch("record",function(t,i){t!==i&&(e.uploadForm.formScope[e.uploadForm.formScope.topLevelFormName].$setDirty(),angular.extend(e.uploadForm.dataField()[e.file],t))},!0),t(function(){if(e.formScope.newRecord)e.record={},setUpWatch();else var t=e.formScope.$watch("phase",function(n){"ready"===n&&(i(),e.$on("fngCancel",function(){i()}),t())})})}]).directive("fngUploadAdditFields",function(){return{link:function(e,t,i){e.uploadForm=e.$parent.$parent.$parent,e.formScope=e.uploadForm.formScope,e.schema=e.uploadForm.directiveOptions.additFields,e.file=parseInt(i.file)},scope:{},controller:"FngUploadAdditFieldsCtrl",template:'<form-input formstyle="inline" schema="schema" model="record" forceform="true"></form-input>'}}).controller("fngJqUploadCtrl",["$scope",function(t){function i(){var e=t.dataField();if(e)for(var i=0;i<e.length;i++){var n=e[i],r=n.filename,o={name:r,size:n.size,url:"/file/"+t.formScope.modelName+"/"+n._id,deleteUrl:"/file/"+t.formScope.modelName+"/"+n._id,deleteType:"DELETE"};switch(r.slice(r.length-4,r.length)){case".gif":case".png":case".jpg":o.thumbnailUrl="/file/"+t.formScope.modelName+"/thumbnail/"+n._id;break;default:o.thumbnailUrl="https://upload.wikimedia.org/wikipedia/commons/7/77/Icon_New_File_256x256.png"}t.$$childHead.queue.push(o)}}if(t.loadingFiles=!1,t.formScope=t.$parent,t.dataField=function(e){var i;if(-1===t.info.name.indexOf("."))!(i=t.formScope.record[t.info.name])&&e&&(i=t.formScope.record[t.info.name]=[]);else if(t.options.subschema){var n=t.formScope.record,r=t.info.name,o=t.options.subschemaroot,a=r.slice(o.length+1);if(t.options.index)i=n[o][t.options.index][a];else{i=n;for(var s=o.split("."),l=0,u=s.length;l<u;l++)i=i[s[l]];if(t.options.subkey){var d=t.formScope["$_arrayOffset_"+o.replace(/\./g,"_")+"_"+t.options.subkeyno];i=null!=d&&void 0!==d&&-1!==d?i[d][a]:void 0}}}return i},!t.formScope.newRecord)var n=t.formScope.$watch("phase",function(e){"ready"===e&&(t.$$childHead.queue=t.$$childHead.queue||[],i(),t.$on("fngCancel",function(){t.$$childHead.queue=[],i()}),n())});t.$on("fileuploaddone",function(i,n){var r=t.dataField(!0),o=n.result.files[0];r.push({_id:e(o.url),filename:o.name,size:o.size}),t.ngModel.$setDirty()})}]).directive("fngJqUploadForm",["pluginHelper",function(e){return{link:function(t,i,n,r){angular.extend(t,e.extractFromAttr(n,"fngJqUploadForm")),t.passedParams=t.formScope[n.schema],angular.extend(t.options,t.passedParams.fngJqUploadForm),t.options.additFields&&(t.directiveOptions.additFields=JSON.parse(t.options.additFields)),t.directiveOptions.url="/file/upload/"+t.formScope.modelName,t.directiveOptions.sizeLimit=t.directiveOptions.sizelimit,t.directiveOptions.autoUpload=t.directiveOptions.autoupload,t.name=t.passedParams.name,t.ngModel=r},restrict:"E",require:"?ngModel",templateUrl:"templates/fileform.html",scope:{},controller:"fngJqUploadCtrl"}}]).controller("FileDestroyController",["$scope","$http",function(t,i){var n,r=t.file;t.uploadScope=t.$parent.$parent.$parent;var o=function(i){for(var n=e(i.url),r=t.uploadScope.dataField(),o=r.length-1;o>=0;o--)r[o]._id===n&&r.splice(o,1);t.clear(i),t.ngModel.$setDirty()};r.url?(r.$state=function(){return n},r.$destroy=function(){return t.$parent.$parent.mouseIn=!1,n="pending",i({url:r.deleteUrl,method:r.deleteType}).then(function(){n="resolved",o(r)},function(){n="rejected",o(r)})}):r.$cancel||r._index||(r.$cancel=function(){o(r)})}])}(),angular.module("uploadModule").run(["$templateCache",function(e){"use strict";e.put("templates/fileform.html",'<div class="form-group control-group" id=cg_f_{{info.name}}><label for=f_{{info.name}} class="col-sm-3 control-label">{{info.label || (info.name | titleCase)}}</label><div class="bs3-input col-sm-9 row-fluid"><div class="col-xs-12 span12 fileupload-form"><div class=fileupload method=POST enctype=multipart/form-data data-ng-app=demo data-file-upload=directiveOptions data-ng-class="{\'fileupload-processing\': processing() || loadingFiles}"><div class=controls><div class="row fileupload-buttonbar"><div class="col-md-7 span7" style="min-height: 60px"><div data-ng-show="directiveOptions.single && queue.length === 0" class=pull-left><span class="btn btn-success fileinput-button" ng-class="{disabled: disabled}"><i class="glyphicon glyphicon-plus icon icon-plus"></i> <span>Upload {{info.label || (info.name | titleCase)}}</span> <input type=file name=files ng-disabled=disabled></span></div><div data-ng-show=directiveOptions.single class=pull-left><div class=preview ng-show=!!queue[0].thumbnailUrl><a data-ng-href={{queue[0].url}} title={{queue[0].name}} download={{queue[0].name}} target=_blank data-gallery ng-mouseover="mouseIn=1" ng-mouseout="mouseIn=0"><img data-ng-src={{queue[0].thumbnailUrl}} alt="" width="{{ options.width || 80 }}" height="{{ options.height || 60 }}"></a></div></div><div data-ng-show=directiveOptions.single class="pull-left file-delete-div"><button ng-show=mouseIn class="file-delete overlay-btn" aria-label=Delete ng-mouseover="mouseIn=1" data-ng-click=queue[0].$destroy()><i class="glyphicon glyphicon-trash icon icon-trash"></i></button></div><span data-ng-hide=directiveOptions.single><span class="btn btn-success fileinput-button" ng-class="{disabled: disabled}"><i class="glyphicon glyphicon-plus icon icon-plus"></i> <span>Add files...</span> <input type=file name=files multiple ng-disabled=disabled> </span></span><button type=button data-ng-hide=directiveOptions.autoupload class="btn btn-primary start" data-ng-click=submit()><i class="glyphicon glyphicon-upload icon icon-upload"></i> <span>Start upload</span></button> <button ng-show=active() type=button class="btn btn-warning cancel" data-ng-click=cancel()><i class="glyphicon glyphicon-ban icon-circle icon-ban-circle"></i> <span>Cancel upload</span></button> <span class=fileupload-process></span></div><div class="col-md-5 span5 fade" data-ng-class="{in: active()}"><div class="progress progress-striped active" data-file-upload-progress=progress()><div class="progress-bar progress-bar-success" data-ng-style="{width: num + \'%\'}"></div></div><div class=progress-extended>&nbsp;</div></div></div><table data-ng-hide=directiveOptions.single class="table table-striped files ng-cloak"><tr data-ng-repeat="file in queue"><td data-ng-switch data-on=!!file.thumbnailUrl><div class=preview data-ng-switch-when=true><a data-ng-href={{file.url}} title={{file.name}} download={{file.name}} target=_blank data-gallery><img data-ng-src={{file.thumbnailUrl}} alt="" width=80 height=60></a></div><div class=preview data-ng-switch-default data-file-upload-preview=file></div></td><td><p class=name data-ng-switch data-on=!!file.url><span data-ng-switch-when=true data-ng-switch data-on=!!file.thumbnailUrl><a data-ng-switch-when=true data-ng-href={{file.url}} title={{file.name}} download={{file.name}} target=_blank data-gallery>{{file.name}}</a> <a data-ng-switch-default data-ng-href={{file.url}} title={{file.name}} download={{file.name}}>{{file.name}}</a> </span><span data-ng-switch-default>{{file.name}}</span></p><strong data-ng-show=file.error class="error text-danger">{{file.error}}</strong></td><td><p class=size>{{file.size | formatFileSize}}</p><div class="progress progress-striped active fade" data-ng-class="{pending: \'in\'}[file.$state()]" data-file-upload-progress=file.$progress()><div class="progress-bar progress-bar-success" data-ng-style="{width: num + \'%\'}"></div></div></td><td ng-show=directiveOptions.additFields><fng-upload-addit-fields file={{$index}}></fng-upload-addit-fields></td><td><button type=button class="btn btn-primary start" data-ng-click=file.$submit() data-ng-hide="!file.$submit || directiveOptions.autoupload" data-ng-disabled="file.$state() == \'pending\' || file.$state() == \'rejected\'"><i class="glyphicon glyphicon-upload icon icon-upload"></i> <span>Start</span></button> <button type=button class="btn btn-warning cancel" data-ng-click=file.$cancel() data-ng-hide=!file.$cancel><i class="glyphicon glyphicon-ban-circle icon icon-ban-circle"></i> <span>Cancel</span></button> <button type=button class="btn btn-danger destroy" data-ng-click=file.$destroy() data-ng-hide=!file.$destroy data-ng-controller=FileDestroyController><i class="glyphicon glyphicon-trash icon icon-trash"></i> <span>Delete</span></button></td></tr></table></div></div></div></div></div>')}]),function(e,t){if("function"!=typeof define||!define.amd)return t(e);define(["angular","ckeditor"],function(e){return t(e)})}(angular||null,function(e){var t,i=e.module("ngCkeditor",[]),n=!1;return i.run(["$q","$timeout",function(i,r){function o(){"loaded"==CKEDITOR.status?(n=!0,t.resolve()):o()}if(t=i.defer(),e.isUndefined(CKEDITOR))throw new Error("CKEDITOR not found");CKEDITOR.disableAutoInline=!0,CKEDITOR.on("loaded",o),r(o,100)}]),i.directive("ckeditor",["$timeout","$q",function(i,r){"use strict";return{restrict:"AC",require:["ngModel","^?form"],scope:!1,link:function(o,a,s,l){var u=l[0],d=l[1]||null,p="textarea"==a[0].tagName.toLowerCase(),c=[],f=!1;p||a.attr("contenteditable",!0);var h=function(){var t={toolbar:"full",toolbar_full:[{name:"basicstyles",items:["Bold","Italic","Strike","Underline"]},{name:"paragraph",items:["BulletedList","NumberedList","Blockquote"]},{name:"editing",items:["JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock"]},{name:"links",items:["Link","Unlink","Anchor"]},{name:"tools",items:["SpellChecker","Maximize"]},"/",{name:"styles",items:["Format","FontSize","TextColor","PasteText","PasteFromWord","RemoveFormat"]},{name:"insert",items:["Image","Table","SpecialChar"]},{name:"forms",items:["Outdent","Indent"]},{name:"clipboard",items:["Undo","Redo"]},{name:"document",items:["PageBreak","Source"]}],disableNativeSpellChecker:!1,uiColor:"#FAFAFA",height:"400px",width:"100%"};t=e.extend(t,o[s.ckeditor]);var n=p?CKEDITOR.replace(a[0],t):CKEDITOR.inline(a[0],t),l=r.defer();a.bind("$destroy",function(){n.destroy(!1)});var h=function(e){var t=n.getData();""==t&&(t=null),i(function(){(!0!==e||t!=u.$viewValue)&&u.$setViewValue(t),!0===e&&d&&d.$setPristine()},0)},m=function(e){if(c.length){var t=c.pop()||"<p></p>";f=!1,n.setData(t,function(){h(e),f=!0})}};n.on("change",h),n.on("blur",h),n.on("instanceReady",function(){o.$broadcast("ckeditor.ready"),o.$apply(function(){m(!0)}),n.document.on("keyup",h)}),n.on("customConfigLoaded",function(){l.resolve()}),u.$render=function(){c.push(u.$viewValue),f&&m()}};"loaded"==CKEDITOR.status&&(n=!0),n?h():t.promise.then(h)}}}]),i}),function(e){var t=e.module("angularCSS",[]);e.module("door3.css",[]).run(function(){}),t.provider("$css",[function(){var t=this.defaults={element:"link",rel:"stylesheet",type:"text/css",container:"head",method:"append",weight:0},n=!1;this.debugMode=function(t){return e.isDefined(t)&&(n=t),n},this.$get=["$rootScope","$injector","$q","$window","$timeout","$compile","$http","$filter","$log","$interpolate",function(r,o,a,s,l,u,d,p,c,f){function h(t){if(t)return e.isFunction(t)&&(t=e.copy(o.invoke(t))),e.isString(t)&&(t=e.extend({href:t},_)),e.isArray(t)&&e.isString(t[0])&&e.forEach(t,function(i){t=e.extend({href:i},_)}),e.isObject(t)&&!e.isArray(t)&&(t=e.extend({},_,t)),e.isArray(t)&&e.isObject(t[0])&&e.forEach(t,function(i){t=e.extend(i,_)}),function(t){e.isDefined(_.breakpoints)&&(t.breakpoint in _.breakpoints&&(t.media=_.breakpoints[t.breakpoint]),delete t.breakpoints)}(t),t}var m={},g='<link ng-repeat="stylesheet in stylesheets | orderBy: \'weight\' track by $index " rel="{{ stylesheet.rel }}" type="{{ stylesheet.type }}" ng-href="{{ stylesheet.href }}" ng-attr-media="{{ stylesheet.media }}">';g=g.replace(/{{/g,f.startSymbol()).replace(/}}/g,f.endSymbol());var v={},y={},b=["print"],_=e.extend({},t),w=e.element(document.querySelector?document.querySelector(_.container):document.getElementsByTagName(_.container)[0]),x=[];return e.forEach(i,function(e,t){e.hasOwnProperty("css")&&(i[t]=h(e.css))}),r.stylesheets=[],w[_.method](u(g)(r)),r.$on("$directiveAdd",function(e,t,i){i&&t.hasOwnProperty("css")&&m.bind(t.css,i)}),r.$on("$routeChangeSuccess",function(e,t,i){i&&(m.remove(m.getFromRoute(i).concat(x)),x.length=0),t&&m.add(m.getFromRoute(t))}),r.$on("$stateChangeSuccess",function(e,t,i,n){n&&(m.remove(m.getFromState(n).concat(x)),x.length=0),t&&m.add(m.getFromState(t))}),m.getFromRoute=function(t){if(t){var i=null,r=[];return t.$$route&&t.$$route.css?i=t.$$route.css:t.css&&(i=t.css),i&&(e.isArray(i)?e.forEach(i,function(t){e.isFunction(t)&&x.push(h(t)),r.push(h(t))}):(e.isFunction(i)&&x.push(h(i)),r.push(h(i)))),r}n&&c.error("Get From Route: No route provided")},m.getFromRoutes=function(t){if(t){var i=[];return e.forEach(t,function(e){var t=m.getFromRoute(e);t.length&&i.push(t[0])}),i}n&&c.error("Get From Routes: No routes provided")},m.getFromState=function(t){if(t){var i=[];if(e.isDefined(t.views)&&e.forEach(t.views,function(t){t.css&&(e.isFunction(t.css)&&x.push(h(t.css)),i.push(h(t.css)))}),e.isDefined(t.children)&&e.forEach(t.children,function(t){t.css&&(e.isFunction(t.css)&&x.push(h(t.css)),i.push(h(t.css))),e.isDefined(t.children)&&e.forEach(t.children,function(t){t.css&&(e.isFunction(t.css)&&x.push(h(t.css)),i.push(h(t.css)))})}),e.isDefined(t.css)||e.isDefined(t.data)&&e.isDefined(t.data.css)){var r=t.css||t.data.css;e.isArray(r)?e.forEach(r,function(t){e.isFunction(t)&&x.push(h(t)),i.push(h(t))}):(e.isFunction(r)&&x.push(h(r)),i.push(h(r)))}return i}n&&c.error("Get From State: No state provided")},m.getFromStates=function(t){if(t){var i=[];return e.forEach(t,function(t){var n=m.getFromState(t);e.isArray(n)?e.forEach(n,function(e){i.push(e)}):i.push(n)}),i}n&&c.error("Get From States: No states provided")},m.preload=function(t,r){t||(t=[],i.length&&Array.prototype.push.apply(t,i),o.has("$route")&&Array.prototype.push.apply(t,m.getFromRoutes(o.get("$route").routes)),o.has("$state")&&Array.prototype.push.apply(t,m.getFromStates(o.get("$state").get())),t=function(e,t){if(e&&t)return p("filter")(e,function(e){return e[t]});n&&c.error("filterBy: missing array or property")}(t,"preload")),e.isArray(t)||(t=[t]);var s=[];e.forEach(t,function(e,i){e=t[i]=h(e),s.push(d.get(e.href).error(function(t){n&&c.error("AngularCSS: Incorrect path for "+e.href)}))}),e.isFunction(r)&&a.all(s).then(function(){r(t)})},m.bind=function(t,i){if(t&&i){var r=[];e.isArray(t)?e.forEach(t,function(e){r.push(h(e))}):r.push(h(t)),m.add(r),n&&c.debug("$css.bind(): Added",r),i.$on("$destroy",function(){m.remove(r),n&&c.debug("$css.bind(): Removed",r)})}else n&&c.error("No scope or stylesheets provided")},m.add=function(t,i){t?(e.isArray(t)||(t=[t]),e.forEach(t,function(e){(e=h(e)).href&&!p("filter")(r.stylesheets,{href:e.href}).length&&(!function(e){e?-1===e.href.indexOf("?cache=")&&(e.href=e.href+(e.bustCache?"?cache="+(new Date).getTime():"")):n&&c.error("No stylesheets provided")}(e),function(e){if(e)return!(!e.media||-1!==b.indexOf(e.media)||!s.matchMedia);n&&c.error("No stylesheet provided")}(e)?function(e){e?(v[e.href]=s.matchMedia(e.media),y[e.href]=function(t){l(function(){if(t.matches)r.stylesheets.push(e);else{var i=r.stylesheets.indexOf(p("filter")(r.stylesheets,{href:e.href})[0]);-1!==i&&r.stylesheets.splice(i,1)}})},v[e.href].addListener(y[e.href]),y[e.href](v[e.href])):n&&c.error("No stylesheet provided")}(e):r.stylesheets.push(e),n&&c.debug("$css.add(): "+e.href))}),r.$broadcast("$cssAdd",t,r.stylesheets)):n&&c.error("No stylesheets provided")},m.remove=function(t,i){t?(e.isArray(t)||(t=[t]),t=p("filter")(t,function(e){return!e.persist}),e.forEach(t,function(t){t=h(t);var i=r.stylesheets.indexOf(p("filter")(r.stylesheets,{href:t.href})[0]);-1!==i&&r.stylesheets.splice(i,1),function(t){t?r&&e.isDefined(v)&&v[t.href]&&e.isDefined(y)&&v[t.href].removeListener(y[t.href]):n&&c.error("No stylesheet provided")}(t),n&&c.debug("$css.remove(): "+t.href)}),r.$broadcast("$cssRemove",t,r.stylesheets)):n&&c.error("No stylesheets provided")},m.removeAll=function(){r&&r.hasOwnProperty("stylesheets")&&(r.stylesheets.length=0),n&&c.debug("all stylesheets removed")},m.preload(),m}]}]),t.filter("$cssLinks",function(){return function(t){if(!t||!e.isArray(t))return t;var i="";return e.forEach(t,function(e){i+='<link rel="'+e.rel+'" type="'+e.type+'" href="'+e.href+'"',i+=e.media?' media="'+e.media+'"':"",i+=">\n\n"}),i}}),t.run(["$css",function(e){}]);var i=[],n=e.module,r=function(e,t){return e.reduce(function(e,i){return e.push(t(i)),e},[])},o=function(e,t){return e.indexOf(t)>-1};e.module=function(){var t=n.apply(this,arguments),a=t.directive;t.directive=function(t,n){var s=e.isFunction(n)?n:n[n?n.length-1:0];try{var l=e.copy(s)();l.directiveName=t,l.hasOwnProperty("css")&&!o(r(i,function(e){return e.ddo.directiveName}),t)&&i.push({ddo:l,handled:!1})}catch(e){}return a.apply(this,arguments)};var s=t.component;return t.component=function(e,t){return t.directiveName=e,t.hasOwnProperty("css")&&!o(r(i,function(e){return e.ddo.directiveName}),e)&&i.push({ddo:t,handled:!1}),s.apply(this,arguments)},t.config(["$provide","$injector",function(t,n){e.forEach(i,function(e){if(!e.handled){var i=e.ddo,r=i.directiveName+"Directive";n.has(r)&&(e.handled=!0,t.decorator(r,["$delegate","$rootScope","$timeout",function(e,t,n){var r=e[0],o=r.compile;return r.css||(r.css=i.css),r.compile=function(){var e=!!o&&o.apply(this,arguments);return function(i){var o=arguments;n(function(){e&&e.apply(this,o)}),t.$broadcast("$directiveAdd",r,i)}},e}]))}})}]),t}}(angular);